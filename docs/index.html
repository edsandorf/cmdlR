<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Choice Modeling in R • cmdlR</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Choice Modeling in R">
<meta property="og:description" content="The problem of choice is fundamental to economics. Choice models are used to understand how people make choices in markets. cmdlR is a set of wrapper functions around a user written log-likelihood function. The package also contain several functions to check for local-optima, calculate welfare measures, compare results and make predictions. To get started, the package contains several examples with pre-programmed log-likelihood functions that can be easily tweaked by the user.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">cmdlR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.2.9007</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/installation.html">Introduction and installation</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/edsandorf/cmdlR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="cmdlr-choice-modeling-in-r" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#cmdlr-choice-modeling-in-r" class="anchor"></a>cmdlR: Choice Modeling in R</h1></div>
<p>The problem of choice is fundamental to economics. Choice models are used to understand how people make choices in markets. cmdlR is a set of wrapper functions around a user written log-likelihood function. The package also contains several functions to check for local-optima, calculate welfare measures, compare results and make predictions. To make it easier for new choice modelers to get started with writing their own log-likelihood functions, the package comes with several applied examples that can be easily tweaked by the user.</p>
<p>WARNING: The package is currently under development and while it works, backwards incompatible changes can happen at any point. This warning will be removed when development of the package has stabilized.</p>
</div>
<div id="release-notes-cmdlr-v002" class="section level1">
<h1 class="hasAnchor">
<a href="#release-notes-cmdlr-v002" class="anchor"></a>Release notes cmdlR v0.0.2</h1>
<p>This release includes the ability to estimate models using the ‘ucminf’ package along with other code improvements and minor bug fixes. Under the hood, the code now creates an estimation environment and evaluates the log-likelihood function in that context, which avoids the need to make multiple calls to ‘attach()’ and ‘detach()’.</p>
<ul>
<li>Added hybrid choice model example and a new mixed logit example.</li>
<li>Added function ‘ordered_logit()’</li>
<li>Added function ‘inspect_list()’ to aid with development and exploratory work</li>
<li>Added option ‘calcualte_hessian’ to ‘estim_opt’.</li>
<li>Removed NLOPTR as an optimizer since it cannot use referencing by name</li>
<li>Added functionality to analyze choices prior to estimation.</li>
<li>alt_availability is no longer specified in the log-likelihood function, but as the list entry <code>alt_avail</code> in <code>model_opt</code>. <code>alt_avail</code> is also used to work out <code>J</code>, which means that it is a required entry. The change was necessary to allow development of <code><a href="reference/analyze_choices.html">analyze_choices()</a></code>. This change breaks earlier code.</li>
<li>The code no longer uses <code>attach()/detach()</code> for parameters and data. Breaks all earlier code.</li>
<li>Removed the need for <code>summary_opt</code>. This list of options duplicated information found in other options and complicated maintainance.</li>
<li>Options for name and description are moved from <code>model_opt</code> to <code>save_opt</code> to reduce number of objects passed between functions.</li>
<li>Starting value search options are moved from model options to estimation options, and starting value search is no longer called explicitly by the user, but from within <code>estimate</code>.</li>
<li>The user must now specify the log of the likelihood value and whether to return a positive or negative value (depends on the optimizer).</li>
<li>It is now possible to pass data from inside the log-likelihood function along as <code><a href="https://rdrr.io/r/base/attributes.html">attributes()</a></code> of the ll value. This change should make it easier to extend functionality in the future. Breaks code prior to development version v.0.0.1.9007</li>
<li>Took dependence on ‘rlang’ to make work with environments and expression evaluation easier.</li>
<li>Fixed a bug where <code>ids</code> in <code><a href="reference/split_data.html">split_data()</a></code> was not always a vector, which caused <code><a href="https://rdrr.io/r/base/sort.html">sort()</a></code> to fail.</li>
<li>Various minor bug fixes</li>
</ul>
</div>
<div id="how-to-install-cmdlr" class="section level1">
<h1 class="hasAnchor">
<a href="#how-to-install-cmdlr" class="anchor"></a>How to install cmdlR?</h1>
<p>The latest version of the package is available from Github.</p>
<p><code><a href="https://devtools.r-lib.org//reference/remote-reexports.html">devtools::install_github("edsandorf/cmdlR")</a></code></p>
</div>
<div id="how-to-cite" class="section level1">
<h1 class="hasAnchor">
<a href="#how-to-cite" class="anchor"></a>How to cite?</h1>
<p>Sandorf, E. D., 2020, cmdlR: Choice Modeling in R, v0.0.2, <a href="https://github.com/edsandorf/cmdlR" class="uri">https://github.com/edsandorf/cmdlR</a></p>
</div>
<div id="getting-help" class="section level1">
<h1 class="hasAnchor">
<a href="#getting-help" class="anchor"></a>Getting help</h1>
<p>The package does not have its own help forum nor do I provide much in terms of e-mail support. I do try to document each function sufficiently, provide relevant examples and publish articles and vignettes detailing functionality and use to the package website: (<a href="https://cmdlR.edsandorf.me">https://cmdlR.edsandorf.me</a>).</p>
</div>
<div id="reporting-a-bug" class="section level1">
<h1 class="hasAnchor">
<a href="#reporting-a-bug" class="anchor"></a>Reporting a bug</h1>
<p>All software contain bugs and this R package is no different. I do my best to root them out, but sometimes they can be persistent and difficult to spot. If you do come across one, please report it through the package’s GitHub repository. Label the issue as a “bug”. Please be detailed and include a reproducible example.</p>
</div>
<div id="requesting-a-feature" class="section level1">
<h1 class="hasAnchor">
<a href="#requesting-a-feature" class="anchor"></a>Requesting a feature</h1>
<p>The normal development cycle of the package depends on the needs of my current projects. I will usually develop new functions and add them to the package as needed. However, if the package is missing an essential feature, please feel free to let me know. To help me track feature requests and allow others to comment on them, please make suggestions using the package’s Github repository and label the issue as a “feature request”. The more detail you add with the request, the easier it will be to understand and implement.</p>
</div>
<div id="how-to-contribute" class="section level1">
<h1 class="hasAnchor">
<a href="#how-to-contribute" class="anchor"></a>How to contribute?</h1>
<ol>
<li>Go to Github and create an account if you don’t have one.</li>
<li>Fork the project and clone it locally on your computer. Make sure that the repository is synced remotely before you move on to the next step.</li>
<li>Create a new branch for each bug fix or new feature you want to add.</li>
<li>Do the work and write a descriptive commit message. If you have added a new feature, please contribute documentation and tests.</li>
<li>Push the changes to your remote repository.</li>
<li>Create a new pull request for each bug fix or new feature added.</li>
<li>Respond to any code review feedback.</li>
</ol>
<p>This list is based on a great post on <a href="https://akrabat.com/the-beginners-guide-to-contributing-to-a-github-project/">how to contribute</a> to a github project.</p>
<p>In order keep everything readable and maintainable, please adhere to the code style. For details, please see the <a href="http://r-pkgs.had.co.nz/r.html">R chapter</a> of ‘R packages’ by Hadley Wickham.</p>
</div>
<div id="acknowledgments" class="section level1">
<h1 class="hasAnchor">
<a href="#acknowledgments" class="anchor"></a>Acknowledgments</h1>
<p>This package is based on years of experience developing and estimating choice models. The package was developed under the Marie Sklodowska-Curie Action INSPiRE under the European Union’s Horizon 2020 Research and INnovation Program Grant Agreement No 793163. A lot of the inspiration for this has come from existing R packages such as <a href="https://CRAN.R-project.org/package=gmnl">gmnl</a> and <a href="https://CRAN.R-project.org/package=mlogit">mlogit</a>. I have also benefited from the extensive choice modeling software <a href="http://www.apollochoicemodelling.com/">Apollo</a> and the excellent <a href="https://github.com/czaj/DCE">Matlab codes</a> written by Mikolaj Czajkowski. I have benefited greatly from discussions with Danny Campbell, Mikolaj Czajkowski, Stephane Hess and David Palma. The package comes with absolutely no warranty and limited support.</p>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/edsandorf/cmdlR/">https://​github.com/​edsandorf/​cmdlR/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="citation">
<h2>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html">Citing cmdlR</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://edsandorf.me">Erlend Dancke Sandorf</a> <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.com/edsandorf/cmdlR"><img src="https://travis-ci.com/edsandorf/cmdlR.svg?branch=master" alt="Travis build status"></a></li>
<li><a href="https://cran.r-project.org/package=cmdlR"><img src="http://www.r-pkg.org/badges/version-last-release/cmdlR" alt="CRAN_Status_Badge"></a></li>
<li><a href="http://www.r-pkg.org/pkg/cmdlR"><img src="http://cranlogs.r-pkg.org/badges/cmdlR" alt="CRAN RStudio mirror downloads"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://edsandorf.me">Erlend Dancke Sandorf</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
